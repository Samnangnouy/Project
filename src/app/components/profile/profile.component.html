<!-- profile.component.html -->
<div class="container-fluid">
  <div class="row align-items-center">
    <div class="col-xl-12 col-lg-12 col-md-12 col-12">
      <!-- Bg -->
      <div
        class="pt-20 rounded-top"
        style="
          background: url(../assets/images/background/profile-cover.jpg)
            no-repeat;
          background-size: cover;
        "
      ></div>
      <div class="card rounded-bottom rounded-0 smooth-shadow-sm mb-5">
        <div class="d-flex align-items-center justify-content-between pt-4 pb-6 px-4">
          <div class="d-flex align-items-center">
            <!-- avatar -->
            <div
              class="avatar-xxl me-2 position-relative d-flex justify-content-end align-items-end mt-n10"
            >
              <ng-container *ngIf="!editMode; else editProfilePicture">
                <img [src]="userData.image" class="avatar-xxl rounded-circle border border-2" alt="User Profile">
              </ng-container>
              <ng-template #editProfilePicture>
                <div>
                  <div class="d-flex justify-content-center">
                      <img [src]="selectedImageSrc" alt="example placeholder"
                      class="avatar-xxl rounded-circle border border-2"  alt="example placeholder" />
                  </div>
                </div>
              </ng-template>
            </div>
            <!-- text -->
            <div class="lh-1">
              <h2 class="mb-0">
                {{ userData.name }}
                <a href="#!" class="text-decoration-none"></a>
              </h2>
              <p class="mb-0 d-block">{{ userData.email }}</p>
            </div>
          </div>
          <div class="d-flex">
            <div *ngIf="editMode" class="d-flex justify-content-center me-2">
              <div data-mdb-ripple-init class="btn btn-primary btn-rounded btn-sm">
                  <label class="form-label text-white m-1" for="customFile2">Choose file</label>
                  <input type="file" class="form-control d-none" id="customFile2" (change)="displaySelectedImage($event)" />
              </div>
            </div>
            <!-- Form for updating profile picture -->
            <form *ngIf="editMode" (ngSubmit)="onSubmit()">
              <button type="submit" class="btn btn-primary">Save Changes</button>
            </form>
            <button (click)="toggleEditMode()" class="btn btn-outline-primary d-none d-md-block ms-2">
              Edit Profile
            </button>
          </div>
        </div>
        <!-- nav -->
        <ul class="nav nav-lt-tab px-4">
          <li class="nav-item">
            <a class="nav-link" [routerLink]="['/dashboard/user-profile']" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" ariaCurrentWhenActive="page">Overview</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" [routerLink]="['/dashboard/user-profile/project']" routerLinkActive="active" ariaCurrentWhenActive="page">Project</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" [routerLink]="['/dashboard/user-profile/team']" routerLinkActive="active" ariaCurrentWhenActive="page">Team</a>
          </li>
        </ul>            
      </div>
    </div>
  </div>
  <!-- content -->
  <div>
    <!-- row -->
    <div class="row">
      <router-outlet></router-outlet>
    </div>
  </div>
</div>

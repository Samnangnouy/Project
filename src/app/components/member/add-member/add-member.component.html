<div class="container-fluid">
    <div class="row">
      <div class="col-lg-12 col-md-12 col-12">
        <!-- Page header -->
        <div class="mb-5">
          <h3 class="mb-0">Create new team member</h3>
        </div>
      </div>
    </div>
    <div>
      <!-- row -->
      <div class="row">
        <div class="col-xl-12 col-md-12 col-12">
          <!-- card -->
          <div class="card card-info mb-5">
            <div class="card-header">
              <h5 class="card-title mb-0">
                Form Member Information Entry
                <span class="text-dark font-weight-bold"
                  >(<span class="text-danger font-weight-bold"> * </span> Required
                  field)</span
                >
              </h5>
            </div>
            <div class="card-body">
              <form #form="ngForm" (ngSubmit)="addMember()">
                  <div class="row">
                    <div class="mb-4 col-md-6 col-12">
                        <label class="form-label">Category</label>
                        <select class="form-select" name="category_id" [(ngModel)]="newMember.category_id" required
                          #categoryField="ngModel" [ngClass]="{'invalid-input': categoryField.invalid && (categoryField.dirty || categoryField.touched)}"
                          (change)="onCategoryChange(newMember.category_id)">
                          <option value="">Select Category</option>
                          <option *ngFor="let category of categories" [value]="category.id">{{ category.name }}</option>
                        </select>
                        <div
                          *ngIf="categoryField.invalid && (categoryField.dirty || categoryField.touched)" class="error-message">
                          Category is required
                        </div>
                      </div>
                      <div class="mb-4 col-md-6 col-12">
                        <label class="form-label">Designation</label>
                        <select class="form-select" name="designation_id" [(ngModel)]="newMember.designation_id" required
                                #designationField="ngModel" [ngClass]="{'invalid-input': designationField.invalid && (designationField.dirty || designationField.touched)}">
                          <option value="">Select Designation</option>
                          <option *ngFor="let designation of designations" [value]="designation.id">{{ designation.name }}</option>
                        </select>
                        <div *ngIf="designationField.invalid && (designationField.dirty || designationField.touched)" class="error-message">
                          Designation is required
                        </div>
                      </div>
                      <div class="mb-4 col-md-6 col-12">
                        <label class="form-label">User</label>
                        <select class="form-select" name="user_id" [(ngModel)]="newMember.user_id" required
                        #userField="ngModel"
                        [ngClass]="{'invalid-input': userField.invalid && (userField.dirty || userField.touched)}"
                        >Please Select User
                          <option value="">Select User</option>
                          <option *ngFor="let user of users" [value]="user.id">{{ user.name }} | {{ user.roles[0].name }}</option>
                        </select>
                        <div
                          *ngIf="userField.invalid && (userField.dirty || userField.touched)" class="error-message">
                          User is required
                        </div>
                      </div>
                      <div class="mb-4">
                        <label for="textarea-input" class="form-label">Description</label>
                        <textarea class="form-control" id="textarea-input" rows="5" name="description" [(ngModel)]="newMember.description" required
                        #descriptionField="ngModel"
                        [ngClass]="{'invalid-input': descriptionField.invalid && (descriptionField.dirty || descriptionField.touched)}">Description</textarea>
                        <div
                          *ngIf="descriptionField.invalid && (descriptionField.dirty || descriptionField.touched)" class="error-message">
                          Description is required
                        </div>
                      </div>
                  </div>
                  <div class="row">
                      <div class="col-6 d-grid gap-2 col-6 mx-auto">
                        <button class="btn btn-block btn-dark" routerLink="/dashboard/member">Back</button>
                      </div>
                      <div class="col-6 d-grid gap-2 col-6 mx-auto">
                        <button type="submit" class="btn btn-info btn-block" [disabled]="!form.valid">
                          Save
                        </button>
                      </div>
                    </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  